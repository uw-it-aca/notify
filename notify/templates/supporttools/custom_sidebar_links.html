{% include "supporttools/default_sidelinks.html" %}

<script type="text/javascript">
    var person_url = "{% url 'restclients_proxy' 'nws' 'notification/v1/person' %}",
	    endpoint_url = "{% url 'restclients_proxy' 'nws' 'notification/v1/endpoint' %}",
        channel_url = "{% url 'restclients_proxy' 'nws' 'notification/v1/channel' %}",
        subscription_url = "{% url 'restclients_proxy' 'nws' 'notification/v1/subscription' %}";

    function person_resource_by_regid() {
        var regid = $.trim($("#person_regid").val());
        if (regid === "") {
            alert("Missing REGID");
        } else {
            window.location.href = person_url + "/" + regid;
        }
        return false;
    }

    function person_resource_by_netid() {
        var netid = $.trim($("#person_netid").val());
        if (netid === "") {
            alert("Missing NETID");
        } else {
            window.location.href = person_url + "/" + netid + "@washington.edu";
        }
        return false;
    }

    function endpoint_resource_by_endpoint_addr() {
        var endpoint_addr = $.trim($("#endpoint_address").val());
        if (endpoint_addr === "") {
            alert("Missing endpoint address");
        } else {
            window.location.href = endpoint_url + "/" + endpoint_addr;
        }
        return false;
    }

    function channel_resource_by_channel_id() {
        var channel_id = $.trim($("#channel_id").val());
        if (channel_id === "") {
            alert("Missing channel_id");
        } else {
            window.location.href = channel_url + "/" + channel_id;
        }
        return false;
    }

    function channel_search_by_sln_year_quarter() {
        var params = {
            channel_type: "uw_student_courseavailable",
            quarter: $("#channel_quarter").val(),
            year: $.trim($("#channel_year").val()),
            sln: $.trim($("#channel_sln").val())
        };
        if (params.year === "") {
            alert("Missing year");
        } else if (params.sln === "") {
            alert("Missing SLN");
        } else {
            window.location.href = channel_url + "?" + $.param(params);
        }
        return false;
    }

    function subscription_search_by_netid() {
        var netid = $.trim($("#sub_netid").val());
        if (netid === "") {
            alert("Missing METID");
        } else {
            window.location.href = subscription_url + "?" +
                $.param({subscriber_id: netid + "@washington.edu"});
        }
        return false;
    }
</script>

<h3>Channel Info:</h3>
<form onsubmit="return channel_resource_by_channel_id()">
    By Channel ID: <input id="channel_id" type="text"/>
    <input value="Go" class="btn btn-primary btn-sm" type="submit"/>
</form>
<form>
    <p>By Quarter/Year/SLN:</p>
    Quarter:
    <select id="channel_quarter">
        <option value="winter">Winter</option>
        <option value="spring">Spring</option>
        <option value="summer">Summer</option>
        <option value="autumn">Autumn</option>
    </select>
    Year: <input id="channel_year" type="text"/>
    SLN: <input id="channel_sln" type="text"/>
    <input value="Go" class="btn btn-primary btn-sm" type="submit"/>
</form>
<br/><br/>

<h3>User Info:</h3>
<form onsubmit="return person_resource_by_regid()">
    By REGID: <input id="person_regid" type="text" />
    <input value="Go" class="btn btn-primary btn-sm" type="submit"/>
</form>
<form onsubmit="return person_resource_by_netid()">
    By NETID: <input id="person_netid" type="text" />
    <input value="Go" class="btn btn-primary btn-sm" type="submit"/>
</form>
<br/><br/>

<h3>Endpoint Info:</h3>
<form onsubmit="return endpoint_resource_by_endpoint_addr()">
    By Endpoint address: <input id="endpoint_address" type="text"/>
    <input value="Go" class="btn btn-primary btn-sm" type="submit"/>
</form>
<br/><br/>

<h3>Subscription Info:</h3>
<form onsubmit="return subscription_search_by_netid()">
    By NETID: <input id="sub_netid" type="text"/>
    <input value="Go" class="btn btn-primary btn-sm" type="submit"/>
</form>
